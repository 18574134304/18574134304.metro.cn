{"version":3,"sources":["webpack:///./src/views/assistedDriving/drive.vue?5cf1","webpack:///./src/views/assistedDriving/drive.vue?7ab6","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///src/views/assistedDriving/drive.vue","webpack:///./src/views/assistedDriving/drive.vue?187a","webpack:///./src/views/assistedDriving/drive.vue?54c6"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","numberChange","model","value","callback","$$v","car_number","expression","_l","item","key","id","number","getData","dateTime","searchBtn","keyword","tableData","arrtiem","index","$event","tiemClick","class","clickindex","_v","_s","bout_number","indexarr","current","nextCurrent","trips","length","name","_f","time","indexs","itemClick","staticRenderFns","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","done","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","data","options","label","value1","input","bottomList","trainList","timedrive","currentTime","created","mounted","methods","setCurrent","sortType","defaultSelected","getTrainListBout","type","table_id","res","list","getvehicleSecond","trainGetTrainList","clearTimeout","timers","val","vue","init","getTableListBout","unixTimeToDateTime","unixtime","y","m","d","now","component"],"mappings":"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","file":"js/chunk-7bf163d0.b18086cb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drive.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"drive\"}},[_c('div',{staticClass:\"head\"},[_c('el-card',{staticClass:\"head_card\"},[_c('div',{staticClass:\"head_div_nr\"},[_c('div',{staticClass:\"head_div_select_box\"},[_c('div',{staticClass:\"head_div_select\"},[_c('el-select',{staticClass:\"head_div_select_item\",attrs:{\"placeholder\":\"全部车号\",\"clearable\":\"\"},on:{\"change\":_vm.numberChange},model:{value:(_vm.car_number),callback:function ($$v) {_vm.car_number=$$v},expression:\"car_number\"}},_vm._l((_vm.trainList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.number,\"value\":item.id}})}),1)],1),_c('div',{staticClass:\"head_div_select\"},[_c('div',{staticClass:\"head_div_select select_left\"},[_c('el-date-picker',{staticClass:\"headPicker\",attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},on:{\"change\":_vm.getData},model:{value:(_vm.dateTime),callback:function ($$v) {_vm.dateTime=$$v},expression:\"dateTime\"}})],1)])]),_c('div',[_c('el-input',{staticClass:\"typesetting_input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search icons\"},on:{\"input\":_vm.searchBtn},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1)])])],1),_c('div',{staticClass:\"middle_nr\"},_vm._l((_vm.tableData.data),function(arrtiem,index){return _c('div',{key:index,staticClass:\"middle\",on:{\"click\":function($event){return _vm.tiemClick(index)}}},[_c('div',{class:_vm.clickindex == index ? 'div_border drive-middle_card' : 'drive-middle_card'},[_c('el-card',{staticClass:\"card_item\"},[_c('div',[_c('div',{staticClass:\"item_head\"},[_c('span',[_c('i',{class:_vm.clickindex == index\n                    ? ' iconfont icon-ditie-copy head_icon2'\n                    : ' iconfont icon-ditie-copy head_icon'})]),_c('span',{class:_vm.clickindex == index\n                  ? 'click_item_tetle item_tetle'\n                  : 'item_tetle'},[_vm._v(_vm._s(arrtiem.bout_number))])]),_c('div')]),_vm._l((arrtiem.trips),function(item,indexarr){return _c('div',{key:indexarr,staticClass:\"item_timeline\",class:[{'current': item.current},{'next-current': item.nextCurrent}]},[_c('div',{staticClass:\"timeline_div\"},[_c('div',{staticClass:\"div_left\"},[_c('div',[_c('div',{class:'left_circular'}),_c('div',{class:indexarr == arrtiem.trips.length - 1 ? '' : 'left_line'})]),_c('div',{staticClass:\"left_size\"},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"div_right\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(item.time)))])])])})],2)],1)])}),0),_c('div',{staticClass:\"drive-footer\"},[_c('div',{staticClass:\"drive_Pagination\"},_vm._l((_vm.bottomList),function(item,index){return _c('div',{key:index,staticClass:\"Pagination_div\"},[_c('div',{class:index == _vm.indexs ? 'click_item' : 'div_item',on:{\"click\":function($event){return _vm.itemClick(item, index)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","<template>\r\n  <div id=\"drive\">\r\n    <div class=\"head\">\r\n      <el-card class=\"head_card\">\r\n        <div class=\"head_div_nr\">\r\n          <div class=\"head_div_select_box\">\r\n            <div class=\"head_div_select\">\r\n              <el-select class=\"head_div_select_item\" placeholder=\"全部车号\" v-model=\"car_number\" clearable\r\n                @change=\"numberChange\">\r\n                <el-option v-for=\"item in trainList\" :key=\"item.id\" :label=\"item.number\" :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div class=\"head_div_select\">\r\n              <div class=\"head_div_select select_left\">\r\n                <el-date-picker class=\"headPicker\" v-model=\"dateTime\" type=\"date\" placeholder=\"选择日期\" @change=\"getData\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <el-input class=\"typesetting_input\" size=\"small\" placeholder=\"请输入内容\" prefix-icon=\"el-icon-search icons\"\r\n              v-model=\"keyword\" @input=\"searchBtn\"></el-input>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 中间 -->\r\n    <div class=\"middle_nr\">\r\n      <div class=\"middle\" v-for=\"(arrtiem, index) in tableData.data\" :key=\"index\" @click=\"tiemClick(index)\">\r\n        <div :class=\"\r\n          clickindex == index ? 'div_border drive-middle_card' : 'drive-middle_card'\r\n        \">\r\n          <el-card class=\"card_item\">\r\n            <div>\r\n              <div class=\"item_head\">\r\n                <span>\r\n                  <i :class=\"\r\n                    clickindex == index\r\n                      ? ' iconfont icon-ditie-copy head_icon2'\r\n                      : ' iconfont icon-ditie-copy head_icon'\r\n                  \"></i>\r\n                </span>\r\n                <span :class=\"\r\n                  clickindex == index\r\n                    ? 'click_item_tetle item_tetle'\r\n                    : 'item_tetle'\r\n                \">{{ arrtiem.bout_number }}</span>\r\n              </div>\r\n              <div></div>\r\n            </div>\r\n            <div class=\"item_timeline\" :class=\"[{'current': item.current},{'next-current': item.nextCurrent}]\" v-for=\"(item, indexarr) in arrtiem.trips\" :key=\"indexarr\">\r\n              <div class=\"timeline_div\">\r\n                <div class=\"div_left\">\r\n                  <div>\r\n                    <div :class=\"\r\n                      'left_circular'\r\n                    \"></div>\r\n                    <div :class=\"\r\n                      indexarr == arrtiem.trips.length - 1 ? '' : 'left_line'\r\n                    \"></div>\r\n                  </div>\r\n                  <div class=\"left_size\">{{ item.name }}</div>\r\n                </div>\r\n                <div class=\"div_right\">{{ item.time | dateFormat }}</div>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--底部  -->\r\n    <div class=\"drive-footer\">\r\n      <div class=\"drive_Pagination\">\r\n        <div class=\"Pagination_div\" v-for=\"(item, index) in bottomList\" :key=\"index\">\r\n          <div :class=\"index == indexs ? 'click_item' : 'div_item'\" @click=\"itemClick(item, index)\">\r\n            {{ item.name }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getTableListBout,\r\n  getTrainListBout,\r\n  trainGetTrainList,\r\n} from \"@/views/utils/api/form-data\";\r\nlet timers = null;\r\nexport default {\r\n  data() {\r\n    return {\r\n      clickindex: null,\r\n      car_number: \"\",\r\n      options: [\r\n        {\r\n          value: \"选项1\",\r\n          label: \"黄金糕\",\r\n        },\r\n        {\r\n          value: \"选项2\",\r\n          label: \"双皮奶\",\r\n        },\r\n        {\r\n          value: \"选项3\",\r\n          label: \"蚵仔煎\",\r\n        },\r\n        {\r\n          value: \"选项4\",\r\n          label: \"龙须面\",\r\n        },\r\n        {\r\n          value: \"选项5\",\r\n          label: \"北京烤鸭\",\r\n        },\r\n      ],\r\n      value: \"\",\r\n      value1: \"\",\r\n      input: \"\",\r\n      bottomList: {},\r\n      dateTime: \"\",\r\n      trainList: [],\r\n      keyword: \"\",\r\n      timedrive: \"\",\r\n      indexs: 0,\r\n      tableData: [],\r\n      currentTime: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    this.getvehicleSecond();\r\n    \r\n    this.currentTime = new Date().valueOf();\r\n  },\r\n  mounted() { },\r\n  methods: {\r\n    setCurrent(data,index,sortType){\r\n        if(sortType===1){\r\n            if(data[index] && data[index].time==='/') {\r\n                if(data[index+1]) {\r\n                    this.setCurrent(data, index+1 ,sortType)\r\n                }\r\n            }\r\n        } else {\r\n            if(data[index] && data[index].time==='/') {\r\n                if(data[index-1]) {\r\n                    this.setCurrent(data, index-1 ,sortType)\r\n                } else {\r\n                    data[index+1].current = false\r\n                }\r\n            } else {\r\n                data[index].nextCurrent = true\r\n            }\r\n        }\r\n        \r\n        console.log(data,index,'来了');\r\n    },\r\n    // 默认选中\r\n    async defaultSelected() {\r\n      this.indexs = 3;\r\n    //   this.indexs = 0;\r\n      // 获取辅助驾驶列表\r\n      let res = await getTrainListBout({\r\n        type: \"all\",\r\n        time: this.timedrive,\r\n        bout_number: \"\",\r\n        // table_id: this.bottomList[0].id,\r\n        table_id: 1,\r\n        keyword: this.keyword,\r\n      });\r\n      if (res.data.code == 1) {\r\n        if (res.data.data) {\r\n          this.tableData = res.data.data;\r\n          let list = this.tableData.data\r\n          let currentDay = new Date().toLocaleDateString()\r\n          let curTime = +new Date()\r\n          for (const item of list) {\r\n            //   判断顺序 倒叙  1 顺序  2倒叙\r\n              let sortType = 1\r\n              let index = null\r\n            //   保存上一条数剧的时间戳， 判断是倒叙还是顺序\r\n\r\n              let currentNow = null\r\n              item.trips.forEach((v,i) => {\r\n                  if(v.time==='/') return\r\n                  let date = currentDay + ' ' + v.time\r\n                  let now = +new Date(date)\r\n                  if(currentNow){\r\n                      sortType = now > currentNow ? 1 : 2\r\n                  }\r\n                  if(!currentNow) currentNow = now\r\n                  if(sortType === 1){\r\n                      if(now<curTime) {\r\n                            index = i\r\n                        }\r\n                  } else {\r\n                      if(!index){\r\n                          if(now<curTime) {\r\n                            index = i\r\n                        }\r\n                      }\r\n                        \r\n                  }\r\n                  \r\n                //   获取这条数据的时间戳\r\n                  console.log(date,now,now>curTime , index);\r\n                  \r\n              });\r\n              if(index) {\r\n                  console.log('排序',sortType);\r\n                  item.trips[index].current = true\r\n                  if(sortType === 1) {\r\n                      if(item.trips[index + 1]){\r\n                        this.setCurrent(item.trips, index + 1, sortType)\r\n                      } else {\r\n                        item.trips[index].current = false\r\n                      }\r\n                  }else {\r\n                       if(item.trips[index - 1]){\r\n                           this.setCurrent(item.trips, index-1, sortType)\r\n                      }\r\n                  }\r\n                  \r\n                  \r\n              }\r\n          }\r\n              console.log(list);\r\n        } else {\r\n            this.$message.warning(res.data.msg)\r\n          this.tableData = [];\r\n        }\r\n      } else {\r\n        this.$message.error('暂无数据');\r\n      }\r\n    },\r\n\r\n    // 获取车次数据\r\n    async getvehicleSecond() {\r\n      let res = await trainGetTrainList({\r\n        keyword: this.keyword,\r\n      });\r\n      if (res.data.code == 1) {\r\n        if (res.data.data) {\r\n          this.trainList = res.data.data;\r\n        } else {\r\n          this.trainList = [];\r\n        }\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 输入框\r\n    searchBtn() {\r\n      if (this.keyword) {\r\n        clearTimeout(timers);\r\n        timers = setTimeout(() => {\r\n          this.init(); //需要防抖的函数\r\n        }, 800);\r\n      } else {\r\n        this.init(); //需要防抖的函数\r\n      }\r\n    },\r\n    // 时间选择\r\n    getData(val) {\r\n      if (this.dateTime) {\r\n        this.timedrive = Math.round(new Date(this.dateTime) / 1000);\r\n      } else {\r\n        this.timedrive = \"\";\r\n      }\r\n      this.init();\r\n    },\r\n    // 选择车号\r\n    numberChange(vue) {\r\n      if (vue) {\r\n        this.car_number = vue;\r\n      } else {\r\n        this.car_number = \"\";\r\n      }\r\n      this.init();\r\n    },\r\n    // 获取底部分类数据\r\n    async init() {\r\n      let res = await getTableListBout({\r\n        type: \"all\",\r\n        time: this.timedrive,\r\n        car_number: this.car_number,\r\n      });\r\n      if (res.data.code == 1) {\r\n        if (res.data.data) {\r\n          this.bottomList = res.data.data;\r\n          this.defaultSelected();\r\n  \r\n        } else {\r\n          this.bottomList = [];\r\n        }\r\n      } else {\r\n        this.$message.error(res.data.msg.time);\r\n      }\r\n    },\r\n    // 点击底部分类项\r\n    async itemClick(item, index) {\r\n      this.indexs = index;\r\n      // 获取辅助驾驶列表\r\n      let res = await getTrainListBout({\r\n        type: \"all\",\r\n        time: this.timedrive,\r\n        bout_number: this.car_number,\r\n        table_id: item.id,\r\n        keyword: this.keyword,\r\n      });\r\n    //   console.log(res.data)\r\n          if (res.data.code == 1) {\r\n            if(res.data.data) {\r\n                this.tableData = res.data.data;\r\n            }else {\r\n                this.tableData = [];\r\n                this.$message.warning(res.data.msg)\r\n            }\r\n        } else {\r\n            this.$message.error(res.data.msg);\r\n            this.tableData = [];\r\n        }\r\n    },\r\n\r\n    //\r\n    // 点击加颜色\r\n    tiemClick(index) {\r\n      this.clickindex = index;\r\n    },\r\n    unixTimeToDateTime(unixtime) {\r\n      var now = new Date(unixtime * 1000); // 依情况进行更改 * 1\r\n      y = now.getFullYear();\r\n      m = now.getMonth() + 1;\r\n      d = now.getDate();\r\n      return (\r\n        y +\r\n        \"-\" +\r\n        (m < 10 ? \"0\" + m : m) +\r\n        \"-\" +\r\n        (d < 10 ? \"0\" + d : d) +\r\n        \" \" +\r\n        now.toTimeString().substr(0, 8)\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#drive{\r\n  .head {\r\n  .head_div_nr {\r\n    margin: 28px 30px 20px 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .typesetting_input {\r\n      width: 250px;\r\n\r\n      .el-input__inner {\r\n        height: 40px;\r\n        border-radius: 5px;\r\n        padding-left: 45%;\r\n      }\r\n\r\n      .el-input__prefix {\r\n        top: 1px;\r\n        left: 80px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .head_card {\r\n    width: 102.1%;\r\n    margin-top: -20px;\r\n    margin-left: -20px;\r\n    border-radius: 0 0 15px 15px;\r\n    .el-date-editor {\r\n      .el-input__inner {\r\n            background-color: #EDEDED !important;\r\n            &::placeholder {\r\n                  color: #606266;\r\n                }\r\n          }\r\n    }\r\n    .head_div_select_box {\r\n      display: flex;\r\n\r\n      .head_div_select {\r\n        width: 120px;\r\n\r\n        .head_div_select_item {\r\n          .el-input__inner {\r\n            background-color: #EDEDED !important;\r\n            &::placeholder {\r\n                  color: #606266;\r\n                }\r\n          }\r\n        }\r\n      }\r\n\r\n      .select_left {\r\n        margin-left: 20px;\r\n\r\n        .input__inner {\r\n          background-color: #EDEDED !important;\r\n          &::placeholder {\r\n                  color: #606266;\r\n                }\r\n        }\r\n        .headPicker {\r\n          width: 140px !important;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.middle_nr {\r\n  padding: 0 26px;\r\n  padding-bottom: 80px;\r\n  &::after {\r\n      content: \"\";\r\n      display: block;\r\n      visibility: hidden;\r\n      clear: both;\r\n  }\r\n}\r\n.middle:nth-child(3n - 1) {\r\n    margin-left: 1%;\r\n    margin-right: 1%;\r\n}\r\n.middle {\r\n    float: left;\r\n  box-sizing: border-box;\r\n  margin-top: 20px;\r\n  width: 32%;\r\n  transition: .3s all;\r\n  .drive-middle_card {\r\n    .card_item {\r\n      border-radius: 15px;\r\n\r\n      .el-card__body {\r\n        padding: 0 !important;\r\n        padding-bottom: 20px;\r\n      }\r\n\r\n      .item_head {\r\n        padding: 20px;\r\n\r\n        .head_icon {\r\n          font-size: 22px;\r\n          color: #bcbcbe;\r\n        }\r\n\r\n        .head_icon2 {\r\n          font-size: 22px;\r\n          color: #004da1ff;\r\n        }\r\n      }\r\n\r\n      .item_icon {\r\n        background-color: #004da1ff;\r\n      }\r\n\r\n      .item_tetle {\r\n        margin-left: 20px;\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n      }\r\n\r\n      .item_timeline {\r\n        margin-top: 2px;\r\n\r\n        .timeline_div,\r\n        .timeline_div_bgc {\r\n          height: 50px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          background-color: #f9fafbff;\r\n          padding: 0 20px;\r\n\r\n          .div_left {\r\n            margin-top: 10px;\r\n            display: flex;\r\n\r\n            .left_circular {\r\n              margin-top: 8px;\r\n              width: 15px;\r\n              height: 15px;\r\n              border-radius: 50%;\r\n              background-color: #bcbcbeff;\r\n            }\r\n\r\n            .left_line {\r\n              width: 2px;\r\n              height: 40px;\r\n              background-color: #c4defeff;\r\n              margin-left: 7px;\r\n            }\r\n\r\n            .left_size {\r\n              line-height: 35px;\r\n              font-size: 18px;\r\n              margin-left: 20px;\r\n              // margin-top: 3px;\r\n              font-weight: 500;\r\n            }\r\n          }\r\n\r\n          .div_right {\r\n            line-height: 25px;\r\n            font-size: 18px;\r\n            font-weight: 600;\r\n            margin-top: 15px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .item_timeline.current {\r\n          color: #EB4443;\r\n          .left_circular {\r\n            background-color: #EB4443!important;\r\n          }\r\n      }\r\n      .item_timeline.next-current {\r\n          color: #00D859;\r\n          .left_circular {\r\n            background-color: #00D859!important;\r\n          }\r\n      }\r\n    }\r\n  }\r\n}\r\n}\r\n\r\n\r\n.drive-footer {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n  height: 80px;\r\n  background: #ffffffff;\r\n  line-height: 80px;\r\n  text-align: center;\r\n  /* 方法一 */\r\n  position: fixed;\r\n  left: 120px;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 0 20px;\r\n\r\n  .drive_Pagination {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .Pagination_div {\r\n      display: flex;\r\n      justify-content: center;\r\n\r\n      .div_item,\r\n      .click_item {\r\n        cursor: pointer;\r\n        width: 48px;\r\n        height: 48px;\r\n        line-height: 48px;\r\n        background: #FFFFFF;\r\n        border: 1px solid #D9D9D9;\r\n        border-radius: 8px;\r\n        margin-right: 12px;\r\n      }\r\n\r\n      .click_item {\r\n        background-color: #004da1;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.timeline_div_bgc {\r\n  background-color: #fff !important;\r\n}\r\n\r\n//\r\n.div_border {\r\n  box-sizing: border-box;\r\n  border: 2px solid #144ddfff;\r\n  border-radius: 15px;\r\n  box-shadow: 0px 0px 6px rgba(20, 77, 223, 0.67);\r\n}\r\n\r\n//\r\n.div_bgc {\r\n  background-color: #fdfeffff;\r\n}\r\n\r\n//\r\n.div_click_bgc {\r\n  background-color: #e0f0ffff;\r\n}\r\n\r\n.div_bottom {\r\n  width: 100%;\r\n  height: 20px;\r\n}\r\n\r\n.click_item_tetle {\r\n  color: #004da1ff;\r\n}\r\n\r\n.left_circular2 {\r\n  margin-top: 8px;\r\n  width: 15px;\r\n  height: 15px;\r\n  border-radius: 50%;\r\n  background-color: #52c41a;\r\n}\r\n\r\n.left_circular3 {\r\n  margin-top: 8px;\r\n  width: 15px;\r\n  height: 15px;\r\n  border-radius: 50%;\r\n  background-color: red;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drive.vue?vue&type=template&id=0e7944d8&\"\nimport script from \"./drive.vue?vue&type=script&lang=js&\"\nexport * from \"./drive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drive.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}