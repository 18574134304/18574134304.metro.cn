(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3097653a"],{"3ca4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAaCAYAAABctMd+AAACs0lEQVRIS7WWS2hTQRSGe5PGJkGxIBgVKyQY8zKKLVRMRQ2o6Erd+VoIduFCUQRBBUFFEHfVnagbF7bZVF0UcaFxU9GF0BbyaiNBpCFdKCEKSWgeflNu5Dbm5k7AFobeO+c/3/xz5sxtlS6Dn3q9bkokEmeQnWUMMnoVRZlmftRisYy43e6yHkJpx85kMtZisfgazeFWOhZJViqVA8FgcKFlXA+uOh4nfsxgc7M2m22n0+ksNet0nVOKbSyQMiqbiJvN5hMej+eVNDwej99CfFcGjuaD3+8PS8NjsdhTanpeEv4T+LqVgncB/6fEujXv0PmKwr/jfIt0WTjQYcRPZGrO2Yz5fL5T0vBkMrmpVqvNS8KHgH+UhgshvX6dXr/fbgGTyRShx0/jvtYRHLDCAjdJuqezwPN8Pn8hFAoVO7r+WnE6ne4rl8vDuBxkQSsuZyjZi0Ag8Lndrpa1Iu23gau8m8QBq9X6zOVyfWskE7sDvNER5VwudzEcDldEnNgq8vay8DS1/9HIWYKnUqmjAB8QDGqcfKK99jTe6Z661iWf27V8bgsq/BG7uaTGpzBx1ev1RhWSDjE5wbA0bbGGaB+iSRWwFcCceMbEQUryTjyTv5Ffs4zVmvxFtPvFgU0iDrU8EEWZZ5ubRUz9ti8dHK634zomnsl/Q/6RFvkTwvmy7TaLcH8F9w/RHSf2Uo1HKNlJ7sIOyvmFue7mPJxnDOEk/Qa0BvgMz3/PBLc9omuY8+jsWgouciOA3gN8LF7ExalWq+PMRVqBxZysc6Fd5E/Z+lKpNEoZ+nnvYywA6P0fcMGYojy7stmsvVAo3GaRa3pgrfNfvGjbSC+HqtT77XZ7kv8I8oh62sGJzSncrhG2d9lA2AgL6FfGgJEe5g0lGo12OxyOc7wMGSXIxtnhW0o49gdyhDBmMu060wAAAABJRU5ErkJggg=="},"5d1d":function(e,t,a){"use strict";a("69e8")},"69e8":function(e,t,a){},"98ce":function(e,t,a){e.exports=a.p+"img/headPortrait.501c37e5.png"},a8d4:function(e,t,a){e.exports=a.p+"img/vehicleList.41d6dbfd.png"},b574:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"background-color":"F9F9FB"}},[i("div",{staticClass:"vehicle"},[i("div",{staticClass:"vehicle-header"},[i("div",{staticClass:"vehicle_text"},[e._v("车辆列表")]),i("div",{staticClass:"vehicle_head"},[i("div"),i("div",[i("el-input",{staticClass:"vehicle_index",attrs:{size:"small",placeholder:"搜索","prefix-icon":"el-icon-search icons"},on:{input:e.searchBtn},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)])]),this.vehicleData.data&&this.vehicleData.data.length?i("div",{staticClass:"vehicle_list"},e._l(this.vehicleData.data,(function(t,s){return i("div",{key:s,staticClass:"vehicle_list_item",on:{click:function(a){return e.dialSend(t)}}},[i("el-card",{staticClass:"vehicle_list_item_card"},[i("div",{staticClass:"vehicle_list_item_img"},[i("img",{attrs:{src:a("a8d4"),alt:"",srcset:""}})]),i("div",{staticClass:"vehicle_list_item_title"},[e._v(e._s(t.number))]),i("div",{staticClass:"vehicle_list_item_role"},[i("span",{staticClass:"item_role_img"},[i("img",{attrs:{src:a("3ca4"),alt:""}})]),i("span",{staticClass:"vehicle_list_item_role_text"},[e._v("角色：")]),i("span",{staticClass:"vehicle_list_item_role_text"},[e._v(e._s(t.driver.nickname))])]),i("div",{staticClass:"vehicle_list_item_role"},[i("span",{staticClass:"item_role_img"},[i("img",{attrs:{src:a("cc4a"),alt:""}})]),i("span",{staticClass:"vehicle_list_item_role_text"},[e._v("车次：")]),i("span",{staticClass:"vehicle_list_item_role_text"},[e._v("1002")]),i("span",{staticClass:"vehicle_list_item_role_text text_spot"},[e._v("...")])])])],1)})),0):e._e(),i("div",{staticClass:"footer"},[i("div",{staticClass:"vehicle_Pagination"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.vehicleData.total,size:"medium"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),i("div",{staticClass:"vehicleList_dialog"},[i("el-dialog",{staticClass:"dialog",attrs:{title:"邀请你视频通话",visible:e.dialogVisible,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"dialog_middle"},[i("img",{attrs:{src:a("98ce"),alt:""}})]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"div_img"},[i("div",[i("img",{staticClass:"img_left",attrs:{src:a("f714"),alt:"",srcset:""}}),i("div",{staticClass:"img_text"},[e._v("接听")])]),i("div",[i("img",{staticClass:"img_right",attrs:{src:a("07b7"),alt:"",srcset:""}}),i("div",{staticClass:"img_text1"},[e._v("挂断")])])])])])],1),i("div",{staticClass:"vehicleList_dialog"},[i("el-dialog",{staticClass:"dialog1",attrs:{title:"添加账号",visible:e.addDialog,center:""},on:{"update:visible":function(t){e.addDialog=t}}},[i("div",{staticClass:"dialog_div"},[i("el-form",{ref:"ruleForm",staticClass:"dialog_ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"车辆名称",prop:"number"}},[i("div",{staticClass:"div_input"},[i("div"),i("div",{staticClass:"content_input"},[i("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1)])]),i("div",{staticClass:"dialog_div_line"}),i("el-form-item",{attrs:{label:"上传图片",prop:"name"}},[i("div",{staticClass:"vehicel_upload"},[i("div",{staticClass:"public-upload-image"},[i("el-upload",{ref:"upload_img",attrs:{action:"","list-type":"picture-card",multiple:"",limit:1,accept:".jpg, .jpeg, .png","on-preview":e.handlePictureCardPreview,"http-request":e.handleTestSuccess}},[i("i",{staticClass:"el-icon-plus"})])],1)])]),i("div",{staticClass:"dialog_div_line"})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"dialog_div_button"},[i("el-button",{staticClass:"dialog_but",attrs:{type:"primary"},on:{click:e.submit}},[e._v("添加车辆")]),i("el-button",{staticClass:"dialog_but1",on:{click:function(t){e.addDialog=!1}}},[e._v("取消")])],1)])])],1)])},s=[],r=a("1da1"),l=(a("96cf"),a("e9c4"),a("4de4"),a("d3b7"),a("b0c0"),a("e863")),n=a("ffdd"),c=null,o={data:function(){return{dialogVisible:!1,addDialog:!1,keyword:"",ruleForm:{name:""},rules:{account:[{required:!0,message:"请输入车辆名称",trigger:"blur"}]},vehicleData:{},imgarr:[]}},created:function(){this.$http.defaults.headers.common["token"]=JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")).token:"",this.init()},methods:{dialSend:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["b"])("Record/getChannel");case 2:if(i=a.sent,!i||200!=i.status){a.next=18;break}if(i.data.data.sn){a.next=7;break}return t.$message.error("房间号获取失败"),a.abrupt("return");case 7:localStorage.setItem("sn",i.data.data.sn),t.num++,s={name:e.number,avatar:e.image},sessionStorage.setItem("sendRoleInfo",JSON.stringify(s)),r=JSON.stringify({avatar:e.image,id:e.id,messageId:1,name:e.number,role:"地面端",channelId:i.data.data.sn}),n="1",localStorage.setItem("memberId",n),t.client.sendMessageToPeer({text:r},"1"),t.$router.push({path:"emergency_video",query:{sn:i.data.data.sn}}),a.next=19;break;case 18:t.$message.error("sn获取失败请重试");case 19:case"end":return a.stop()}}),a)})))()},searchBtn:function(){var e=this;this.keyword?(clearTimeout(c),c=setTimeout((function(){e.init()}),800)):this.init()},init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["w"])({keyword:e.keyword,line:""});case 2:a=t.sent,1==a.data.code&&(e.vehicleData=a.data.data);case 4:case"end":return t.stop()}}),t)})))()},onchangeSer:function(e){},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},addVehicle:function(){this.addDialog=!0,this.ruleForm.number=""},handleTestSuccess:function(e){if(-1==e.file.type.indexOf("image"))return this.$message.error("请上传图片类型的文件"),void(this.$refs.upload_img.uploadFiles=this.$refs.upload_img.uploadFiles.filter((function(t){return e.file.name!=t.name})));this.imgarr=e},handlePictureCardPreview:function(e){console.log(e)},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.ruleForm.number){t.next=2;break}return t.abrupt("return",e.$message({message:"请填写车辆名称",type:"warning"}));case 2:if(e.imgarr){t.next=4;break}return t.abrupt("return",e.$message({message:"请选择车辆照片",type:"warning"}));case 4:return t.next=6,Object(n["e"])({number:e.ruleForm.number,image:e.imgarr.file});case 6:a=t.sent,1==a.data.code?(e.addDialog=!1,e.$refs.upload_img.uploadFiles=e.$refs.upload_img.uploadFiles.filter((function(e){return file.file.name!=e.name}))):(e.$message.error(a.data.msg),e.$refs.upload_img.uploadFiles=e.$refs.upload_img.uploadFiles.filter((function(e){return file.file.name!=e.name})));case 8:case"end":return t.stop()}}),t)})))()}}},d=o,u=(a("5d1d"),a("2877")),g=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=g.exports},cc4a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAACDUlEQVRIS+2WPUsDQRCGb5MIV1iksDjQIqKSLwstBAsLU+Qf2EhSKFgoWigoWlhaGBRsBGOlolb+BIXYmS42yRkMXASLMwRMlSZfvnPkwhkvt0nIdS6E+5h39pmZnd0LEzAURRHL5fIBbiOMsUl61+9oNBo5+N4XCoWjUChUZYlEwiVJ0iMMi/1OauaHQJ9VVQ2zTCazDcHZICc3zLVDgBe8mLcJkGSyLCsojwcpXdfr9Y9OINhHYVtr2uPw+bLQTsAWhU/eCBj3+/35Tk4IxINJFbLDsSvtP4BbTq1E6KJvlNXdbV17XgMAGr049azVAU6n0+/1et8G0UXZbNZXq9VkLRgdgPscyvRpseEktKmvmQEFonbSQjcGm3amGQG2bGYzQBWZxImGSNZxcXHIlnozQCwQCNDRLaB8x7jscwCW+j8ARL0XDAZPadJ0Or2LbE6sADy9WQYqOoqOcBGdQKARTgZF6LdIA/15u7610WxZYUEoEeAWk0dtAtzQcU3HMH10pAFDili/OdbslmlcL/BbGBAkiXVZpZNBA+gD2Twgm6Xmc9XhcCxXKpUiD4rJyGfToAuj1Z/ouQVAS84gpZQuAugS7UobjTvgOwzfd0OZXwGYbQfQN5QWnEYJUU0hRW70huxXENSVnj0AQ78AqVTKLYoi/T/y4beB6O+4obcJ0JHXeBWBfwz+h2T+AbPPbD4CvgE7AAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=chunk-3097653a.9d34ae2a.js.map